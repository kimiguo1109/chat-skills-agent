id: mindmap_skill
display_name: 思维导图生成
description: 根据学习内容自动生成结构化的思维导图，帮助学生可视化知识结构和概念关系
version: "1.0.0"

intent_tags:
  - mindmap_request
  - mindmap
  - mind_map
  - concept_map
  - knowledge_graph
  - structure_diagram
  - 思维导图
  - 导图生成

input_schema:
  type: object
  properties:
    subject:
      type: string
      description: "学科（如：数学、物理、历史、生物）"
    topic:
      type: string
      description: "具体主题或学习内容（如：微积分概述、二战历史、细胞结构）"
    content:
      type: string
      description: "要分析的文本内容（可以是课本段落、笔记、文章等）"
    max_depth:
      type: integer
      description: "思维导图最大层级深度（2-4层）"
      default: 3
      minimum: 2
      maximum: 4
    max_branches:
      type: integer
      description: "每个节点的最大子节点数量（2-6个）"
      default: 4
      minimum: 2
      maximum: 6
    memory_summary:
      type: string
      description: "用户学习画像摘要"
  required:
    - topic
    - content

output_schema:
  type: object
  properties:
    mindmap_id:
      type: string
      description: "思维导图唯一标识"
    subject:
      type: string
      description: "学科"
    topic:
      type: string
      description: "主题"
    root:
      type: object
      description: "思维导图根节点"
      properties:
        id:
          type: string
          description: "节点唯一ID"
        text:
          type: string
          description: "节点文本（简洁，不超过30字符）"
        color:
          type: string
          description: "节点颜色（HEX格式，如 #10b981）"
        children:
          type: array
          description: "子节点列表（递归结构）"
          items:
            type: object
            properties:
              id:
                type: string
              text:
                type: string
              color:
                type: string
              children:
                type: array
    structure_summary:
      type: string
      description: "思维导图结构摘要（如：1个根节点，3个一级节点，8个二级节点）"
    created_at:
      type: string
      description: "创建时间（ISO 8601 格式）"
  required:
    - mindmap_id
    - topic
    - root
    - structure_summary
    - created_at

models:
  primary: "gemini-2.0-flash-exp"
  fallback: "gemini-2.0-flash-exp"

context:
  need_user_memory: true
  need_content_store: false

prompt_file: "mindmap_skill.txt"

max_tokens: 4000
temperature: 0.7

metadata:
  author: "StudyX Skill Agent Team"
  created_at: "2025-01-14"
  tags: ["mindmap", "visualization", "knowledge_structure", "learning", "concept_map"]
  estimated_tokens: 3500
  average_generation_time: "10-30s"

