<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>StudyX Skill Agent Demo</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <!-- Mind Elixir for Mind Map Rendering (IIFE version - works without module bundler) -->
    <!-- Mind Elixir - æ€ç»´å¯¼å›¾åº“ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mind-elixir@5.3.6/dist/MindElixir.css">
    <script src="https://cdn.jsdelivr.net/npm/mind-elixir@5.3.6/dist/MindElixir.iife.js"></script>
    <!-- ğŸ†• KaTeX for Math Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
<script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#137fec",
              "background-light": "#f6f7f8",
              "background-dark": "#101922",
              "surface-light": "#ffffff",
              "surface-dark": "#1a2632",
              "text-light-primary": "#0d141b",
              "text-dark-primary": "#f6f7f8",
              "text-light-secondary": "#4c739a",
              "text-dark-secondary": "#a0b3c7",
              "border-light": "#e7edf3",
              "border-dark": "#2a3b4d"
            },
            fontFamily: {
              "display": ["Space Grotesk", "sans-serif"]
            },
            borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
          },
        },
      }
    </script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="demo.css">
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light-primary dark:text-text-dark-primary">
<div class="flex h-screen w-full">
<!-- SideNavBar -->
<aside class="flex h-full w-64 flex-col justify-between border-r border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark p-4">
<div class="flex flex-col gap-6">
<!-- ğŸ†• User Selector -->
<div class="flex flex-col gap-3 px-2 pb-4 border-b border-border-light dark:border-border-dark">
  <div class="flex items-center justify-between">
    <h3 class="text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wide">Current User</h3>
    <button id="switchUserBtn" class="text-xs text-primary hover:text-primary/80 font-medium" onclick="showUserSelector()">Switch</button>
  </div>
  <div id="currentUserDisplay" class="flex items-center gap-2 px-3 py-2 bg-primary/5 rounded-lg">
    <span id="currentUserAvatar" class="text-2xl">ğŸ‘¤</span>
    <div class="flex flex-col flex-1 min-w-0">
      <p id="currentUserName" class="text-sm font-bold truncate">Loading...</p>
      <p id="currentUserSession" class="text-xs text-text-light-secondary dark:text-text-dark-secondary truncate">Session: loading...</p>
    </div>
  </div>
</div>

<div class="flex items-center gap-3 px-2">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-lg size-10" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDSpXpUeQFNhzxQIoAIi7RVey3s_Kg0LtNFS9WswZKutC6WUs9vIxo8_6QyNO27m6hlLXEbVG3-PxYyOcktW-sXx6ageG7DxuTTM7j4weDKp7akm6V5MrsGoCm6uuoPFbMEw-bJZwmDc1a7EwsyedARNMzmuie5bknIxwPkHUTQ2BVsAy8itZojKioaFIV05B5hD1Jh3fx9ee34XsTmHjkvSLlBaBzXmj6Ob2zyEe3w1_Okns5xwcEMb9BdwpBYEN4Iz4KcJlfQAI8D");'></div>
<div class="flex flex-col">
<h1 class="text-base font-bold">StudyX</h1>
<p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Skill Agent Demo</p>
</div>
</div>
<div class="flex flex-col gap-1">
<a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors" href="#">
<span class="material-symbols-outlined text-xl">dashboard</span>
<p class="text-sm font-medium">Dashboard</p>
</a>
<a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 text-primary" href="#">
<span class="material-symbols-outlined text-xl">calculate</span>
<p class="text-sm font-bold">Learning Session</p>
</a>
<a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors" href="#">
<span class="material-symbols-outlined text-xl">lightbulb</span>
<p class="text-sm font-medium">Concept Explanation</p>
</a>
<a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors" href="#">
<span class="material-symbols-outlined text-xl">functions</span>
<p class="text-sm font-medium">Integration by Parts</p>
</a>
<!-- ğŸ†• Learning History Link -->
<a id="historyToggleBtn" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors cursor-pointer">
<span class="material-symbols-outlined text-xl">history_edu</span>
<p class="text-sm font-medium">Learning History</p>
</a>
</div>
</div>
<div class="flex flex-col gap-4">
<button onclick="handleNewChat()" class="flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold tracking-wide hover:bg-primary/90 transition-colors">
<span class="truncate">New Chat</span>
</button>
<div class="flex flex-col gap-1">
<a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors" href="#">
<span class="material-symbols-outlined text-xl">settings</span>
<p class="text-sm font-medium">Settings</p>
</a>
<a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-primary/10 transition-colors" href="#">
<span class="material-symbols-outlined text-xl">help</span>
<p class="text-sm font-medium">Help</p>
</a>
</div>
</div>
</aside>
<!-- Main Content Area -->
<main class="flex flex-1 flex-col">
<!-- TopNavBar -->
<header class="flex h-16 items-center justify-between whitespace-nowrap border-b border-solid border-border-light dark:border-border-dark px-6 bg-surface-light dark:bg-surface-dark">
<div class="flex items-center gap-4">
<h2 class="text-lg font-bold tracking-tight">AI Learning Assistant</h2>
</div>
<div class="flex flex-1 items-center justify-end gap-4">
<button class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg size-10 bg-primary/10 text-text-light-primary dark:text-text-dark-primary hover:bg-primary/20 transition-colors">
<span class="material-symbols-outlined text-xl">notifications</span>
</button>
<button class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg size-10 bg-primary/10 text-text-light-primary dark:text-text-dark-primary hover:bg-primary/20 transition-colors">
<span class="material-symbols-outlined text-xl">bolt</span>
</button>
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuC2JV0TerXdmHAVpbSKv_E1GuCwolwncFI-4GV6gTe4KD7jb6L14FEWUoI9GNNTmFjCICvExlwaH0u-Xlc__WwIhFeFn3tGycB_um-i2WDCBZ8qh8z4mzXJSai0ODWV21ZaxGiyMm-Xot9-QBjSTEmRiy_zgJShKMe01fF7msbIDwkAsrstdzzcpXlnafKBGO39znKCb-jbgC-p4Eakjg_qCdJ4FqHjX2gefcJUbHapvopm943I8lcboavCnjZrtm0h5-VQbnuXjwps");'></div>
</div>
</header>
<!-- Chat Area -->
<div class="flex flex-1 flex-col overflow-y-auto px-6 pt-6" id="chatMessages">
<div class="flex flex-col gap-6">
<!-- Agent Welcome Message -->
<div class="flex items-end gap-3 max-w-2xl">
<div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 shrink-0" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCxe92kEf7gMHjbEHfZQu3F-p4XUO0nyA37zYAuOz7CiVXM_3hgmQ9gTI6zw7siePySKKolumdfXax7FjZ1tuLAnsb5rDYnZjw4LaKpR0MpYWUilv2DSX2VlCD416jAvXmMW3d3TA0MfMgLOkvyyvAqiNcFnqdLIk1LOdKh1Axylm3hUbhf-JtzopMhBhZ5WxEDvTgpGF0E65VLCr805vqY4iosbw4L8Qmm-sViAPSF8dXyszl2XldUnwHCnAakeX7o04PO1S6iwT_m");'></div>
<div class="flex flex-1 flex-col gap-1 items-start">
<p class="text-text-light-secondary dark:text-text-dark-secondary text-sm font-medium">StudyX Agent</p>
                <p class="text-base font-normal leading-normal rounded-xl rounded-bl-none px-4 py-3 bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark text-text-light-primary dark:text-text-dark-primary">
                    å¼€å§‹å’Œ AI å­¦ä¹ åŠ©æ‰‹å¯¹è¯å§ï¼ä½ å¯ä»¥å°è¯•ï¼š
                    <br>â€¢ "ç»™æˆ‘å‡ é“å¾®ç§¯åˆ†ç»ƒä¹ é¢˜"ï¼ˆæ•°å­¦ï¼‰
                    <br>â€¢ "è§£é‡Šä¸€ä¸‹ç‰›é¡¿ç¬¬äºŒå®šå¾‹"ï¼ˆç‰©ç†ï¼‰
                    <br>â€¢ "ä»€ä¹ˆæ˜¯å…‰åˆä½œç”¨"ï¼ˆç”Ÿç‰©ï¼‰
                    <br>â€¢ "å¸®æˆ‘ç†è§£äºŒæˆ˜çš„èµ·å› "ï¼ˆå†å²ï¼‰
                </p>
</div>
</div>
</div>
<div class="flex-grow"></div>
</div>
<!-- Text Input Area -->
<div class="px-6 pb-6 pt-4 bg-background-light dark:bg-background-dark">
<div class="relative">
<input id="messageInput" class="w-full h-12 px-4 pr-12 rounded-lg bg-surface-light dark:bg-surface-dark border border-border-light dark:border-border-dark focus:ring-2 focus:ring-primary focus:outline-none transition-shadow text-text-light-primary dark:text-text-dark-primary placeholder-text-light-secondary dark:placeholder-text-dark-secondary" placeholder="Ask a question or type your answer..." type="text" onkeypress="if(event.key==='Enter') handleSend()"/>
<button onclick="handleSend()" class="absolute right-2 top-1/2 -translate-y-1/2 flex items-center justify-center size-8 rounded-lg bg-primary text-white hover:bg-primary/90 transition-colors">
<span class="material-symbols-outlined text-xl">send</span>
</button>
</div>
</div>
</main>

<!-- ğŸ†• Learning History Sidebar Panel -->
<div id="historyPanel" class="history-panel">
  <div class="history-panel-content">
    <!-- Header -->
    <div class="history-header">
      <h3 class="text-lg font-bold">ğŸ“š Learning History</h3>
      <button id="historyCloseBtn" class="close-btn">
        <span class="material-symbols-outlined">close</span>
      </button>
    </div>
    
    <!-- Search & Filter -->
    <div class="history-search">
      <input 
        type="text" 
        id="historySearch" 
        placeholder="ğŸ” Search topics..."
        class="search-input"
      />
      
      <div class="filter-buttons">
        <button class="filter-btn active" data-type="all">All</button>
        <button class="filter-btn" data-type="quiz_set">â“</button>
        <button class="filter-btn" data-type="flashcard_set">ğŸ´</button>
        <button class="filter-btn" data-type="notes">ğŸ“</button>
        <button class="filter-btn" data-type="explanation">ğŸ’¡</button>
        <button class="filter-btn" data-type="mindmap">ğŸ—ºï¸</button>
      </div>
    </div>
    
    <!-- Timeline Content -->
    <div id="historyTimeline" class="history-timeline">
      <div class="loading-state">
        <div class="w-2 h-2 rounded-full bg-primary animate-bounce"></div>
        <div class="w-2 h-2 rounded-full bg-primary animate-bounce" style="animation-delay: 0.1s"></div>
        <div class="w-2 h-2 rounded-full bg-primary animate-bounce" style="animation-delay: 0.2s"></div>
        <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary mt-2">Loading history...</p>
      </div>
    </div>
  </div>
</div>

<!-- Overlay for history panel -->
<div id="historyOverlay" class="history-overlay"></div>

<!-- ğŸ†• User Selector Modal -->
<div id="userSelectorModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-[2000] hidden">
  <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-6 w-96 max-w-[90vw] shadow-2xl">
    <h2 class="text-xl font-bold mb-4">Select User</h2>
    <div id="userListContainer" class="flex flex-col gap-2 mb-4">
      <!-- åŠ¨æ€åŠ è½½ç”¨æˆ·åˆ—è¡¨ -->
      <div class="flex items-center justify-center py-8">
        <div class="w-2 h-2 rounded-full bg-primary animate-bounce"></div>
        <div class="w-2 h-2 rounded-full bg-primary animate-bounce ml-1" style="animation-delay: 0.1s"></div>
        <div class="w-2 h-2 rounded-full bg-primary animate-bounce ml-1" style="animation-delay: 0.2s"></div>
      </div>
    </div>
    <button onclick="closeUserSelector()" class="w-full py-2 px-4 bg-border-light dark:bg-border-dark rounded-lg hover:bg-primary/10 transition-colors">
      Cancel
    </button>
  </div>
</div>

</div>

<!-- Custom JavaScript -->
<script src="demo.js"></script>
</body>
</html>

