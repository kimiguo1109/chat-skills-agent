# ğŸ§ª å¤šç”¨æˆ·åŠŸèƒ½æµ‹è¯•æŒ‡å—

## ğŸ¯ æµ‹è¯•ç›®æ ‡
éªŒè¯å¤šç”¨æˆ·ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½ï¼š
1. âœ… ç”¨æˆ·åˆ‡æ¢æµç•…
2. âœ… æ•°æ®å®Œå…¨éš”ç¦»
3. âœ… ä¼šè¯ç‹¬ç«‹ç®¡ç†
4. âœ… S3 å­˜å‚¨è·¯å¾„åˆ†ç¦»

---

## ğŸš€ æµ‹è¯•å‰å‡†å¤‡

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
python3 -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 2. æ‰“å¼€æµè§ˆå™¨
è®¿é—®ï¼š`http://localhost:8000/demo.html`

---

## ğŸ¬ åœºæ™¯ 1ï¼šç”¨æˆ·åˆ‡æ¢ + æ•°æ®éš”ç¦»ï¼ˆæœ€ç›´è§‚ï¼ï¼‰

### Step 1: Kimi çš„å­¦ä¹ ä¹‹æ—… ğŸ¤–

1. **ç¡®è®¤å½“å‰ç”¨æˆ·**
   - å·¦ä¾§è¾¹æ é¡¶éƒ¨åº”æ˜¾ç¤ºï¼š
     - å¤´åƒï¼šğŸ¤–
     - åå­—ï¼š**Kimi**
     - Session IDï¼š`Session: HHMMSS`

2. **å‘é€ç¬¬ä¸€ä¸ªé—®é¢˜**
   ```
   è§£é‡Šä¸€ä¸‹é‡å­çº ç¼ 
   ```
   
3. **è§‚å¯Ÿå“åº”**
   - âœ… çœ‹åˆ° thinking processï¼ˆæ€è€ƒè¿‡ç¨‹ï¼‰
   - âœ… çœ‹åˆ°å®Œæ•´çš„æ¦‚å¿µè§£é‡Š
   - âœ… åŒ…å«ç›´è§‚ç†è§£ã€æ­£å¼å®šä¹‰ã€ä¾‹å­

4. **å‘é€ç¬¬äºŒä¸ªé—®é¢˜**
   ```
   ç»™æˆ‘3å¼ é—ªå¡å…³äºé‡å­çº ç¼ 
   ```
   
5. **è§‚å¯Ÿå“åº”**
   - âœ… ç”Ÿæˆ 3 å¼  flashcard
   - âœ… æ¯å¼ å¡ç‰‡æœ‰æ­£é¢/èƒŒé¢/æç¤º

6. **è®°å½• Kimi çš„èŠå¤©å†…å®¹**
   - ğŸ“ æ³¨æ„ï¼šKimi é—®äº†å…³äº"é‡å­çº ç¼ "çš„é—®é¢˜

---

### Step 2: åˆ‡æ¢åˆ° Alex ğŸ‘¨â€ğŸ’»

1. **ç‚¹å‡»å·¦ä¾§è¾¹æ çš„ "Switch" æŒ‰é’®**
   
2. **é€‰æ‹© Alex**
   - åœ¨å¼¹å‡ºçš„æ¨¡æ€æ¡†ä¸­ç‚¹å‡» "Alex" ç”¨æˆ·å¡ç‰‡

3. **è§‚å¯Ÿå˜åŒ–**
   - âœ… å¤´åƒå˜ä¸ºï¼šğŸ‘¨â€ğŸ’»
   - âœ… åå­—å˜ä¸ºï¼š**Alex**
   - âœ… Session ID å˜åŒ–
   - âœ… **èŠå¤©å†å²è¢«æ¸…ç©ºï¼**ï¼ˆè¿™æ˜¯å…³é”®ï¼ï¼‰

4. **Alex å‘é€ä¸åŒçš„é—®é¢˜**
   ```
   ä»€ä¹ˆæ˜¯å…‰åˆä½œç”¨
   ```
   
5. **è§‚å¯Ÿå“åº”**
   - âœ… ç”Ÿæˆå…³äº"å…‰åˆä½œç”¨"çš„è§£é‡Š
   - âœ… å†…å®¹ä¸ Kimi çš„å®Œå…¨ä¸åŒ

6. **Alex ç»§ç»­æé—®**
   ```
   å¸®æˆ‘ç†è§£äºŒæˆ˜çš„èµ·å› 
   ```

---

### Step 3: åˆ‡æ¢å› Kimi ğŸ¤–

1. **å†æ¬¡ç‚¹å‡» "Switch" â†’ é€‰æ‹© Kimi**

2. **ğŸ‰ å…³é”®éªŒè¯ç‚¹ï¼š**
   - âœ… èŠå¤©å†å²æ˜¯å¦è¿˜æ˜¯ç©ºçš„ï¼Ÿï¼ˆç›®å‰æ˜¯çš„ï¼Œå› ä¸ºå‰ç«¯æ²¡æœ‰æŒä¹…åŒ–èŠå¤©è®°å½•ï¼‰
   - âœ… ç”¨æˆ·ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
   - âœ… Session ID æ˜¯æ–°çš„

3. **Kimi å‘é€æ–°é—®é¢˜**
   ```
   ç‰›é¡¿ç¬¬äºŒå®šå¾‹æ˜¯ä»€ä¹ˆ
   ```

---

## ğŸ—„ï¸ åœºæ™¯ 2ï¼šåç«¯æ•°æ®éš”ç¦»éªŒè¯ï¼ˆæŠ€æœ¯éªŒè¯ï¼‰

### æ–¹æ³• 1: æŸ¥çœ‹ memory_storage æ–‡ä»¶

```bash
cd backend/memory_storage
ls -la
```

**æœŸæœ›ç»“æœï¼š**
```
user_kimi_session_XXXXXX.json    # Kimi çš„ä¼šè¯æ•°æ®
user_alex_session_YYYYYY.json    # Alex çš„ä¼šè¯æ•°æ®
```

**æŸ¥çœ‹å†…å®¹ï¼š**
```bash
cat user_kimi_session_*.json | jq '.artifacts[] | {type, topic}'
cat user_alex_session_*.json | jq '.artifacts[] | {type, topic}'
```

**æœŸæœ›ç»“æœï¼š**
- Kimi çš„æ–‡ä»¶åŒ…å«ï¼š"é‡å­çº ç¼ "ã€"ç‰›é¡¿ç¬¬äºŒå®šå¾‹"
- Alex çš„æ–‡ä»¶åŒ…å«ï¼š"å…‰åˆä½œç”¨"ã€"äºŒæˆ˜èµ·å› "
- âœ… **å®Œå…¨ä¸åŒçš„å†…å®¹ï¼**

---

### æ–¹æ³• 2: æŸ¥çœ‹ S3 å­˜å‚¨ï¼ˆå¦‚æœå¯ç”¨ï¼‰

**æ£€æŸ¥ S3 è·¯å¾„ç»“æ„ï¼š**
```bash
cd backend
python3 scripts/check_s3_structure.py
```

åˆ›å»ºè¿™ä¸ªå¿«é€Ÿæ£€æŸ¥è„šæœ¬ï¼š

```python
# backend/scripts/check_s3_structure.py
import boto3
from app.core.config import settings

s3 = boto3.client('s3')
bucket = settings.AWS_S3_BUCKET

print(f"ğŸ“¦ Bucket: {bucket}")
print(f"ğŸ“ Artifact Folder: {settings.S3_ARTIFACT_FOLDER}\n")

for user_id in ['user_kimi', 'user_alex']:
    prefix = f"{settings.S3_ARTIFACT_FOLDER}/{user_id}/"
    print(f"\nğŸ‘¤ User: {user_id}")
    print(f"ğŸ“‚ Path: s3://{bucket}/{prefix}")
    
    response = s3.list_objects_v2(Bucket=bucket, Prefix=prefix)
    objects = response.get('Contents', [])
    
    if objects:
        print(f"   âœ… Found {len(objects)} objects:")
        for obj in objects:
            print(f"      - {obj['Key']} ({obj['Size']} bytes)")
    else:
        print(f"   ğŸ“­ No objects yet")
```

**æœŸæœ›ç»“æœï¼š**
```
ğŸ‘¤ User: user_kimi
ğŸ“‚ Path: s3://skill-agent-demo/artifacts/user_kimi/
   âœ… Found 2 objects:
      - artifacts/user_kimi/artifact_explanation_é‡å­çº ç¼ _xxx.json
      - artifacts/user_kimi/artifact_flashcard_set_é‡å­çº ç¼ _xxx.json

ğŸ‘¤ User: user_alex
ğŸ“‚ Path: s3://skill-agent-demo/artifacts/user_alex/
   âœ… Found 2 objects:
      - artifacts/user_alex/artifact_explanation_å…‰åˆä½œç”¨_xxx.json
      - artifacts/user_alex/artifact_explanation_äºŒæˆ˜èµ·å› _xxx.json
```

---

## ğŸ¨ åœºæ™¯ 3ï¼šLearning History é¢æ¿ï¼ˆå¯é€‰ï¼‰

1. **æ‰“å¼€ Learning History**
   - ç‚¹å‡»å·¦ä¾§è¾¹æ çš„ "ğŸ“š Learning History"

2. **è§‚å¯Ÿå†å²è®°å½•**
   - åº”è¯¥çœ‹åˆ°å½“å‰ç”¨æˆ·çš„æ‰€æœ‰ artifacts
   - å¯ä»¥æœç´¢ã€ç­›é€‰

3. **åˆ‡æ¢ç”¨æˆ·åå†æ¬¡æ‰“å¼€**
   - âœ… å†å²è®°å½•åº”è¯¥å®Œå…¨ä¸åŒ

---

## ğŸš¨ åœºæ™¯ 4ï¼šå‹åŠ›æµ‹è¯•ï¼ˆå¤šæ¬¡åˆ‡æ¢ï¼‰

### å¿«é€Ÿåˆ‡æ¢æµ‹è¯•
1. Kimi â†’ å‘é€é—®é¢˜
2. ç«‹å³åˆ‡æ¢åˆ° Alex â†’ å‘é€é—®é¢˜
3. ç«‹å³åˆ‡æ¢å› Kimi â†’ å‘é€é—®é¢˜
4. é‡å¤ 5 æ¬¡

### éªŒè¯ç‚¹ï¼š
- âœ… æ¯æ¬¡åˆ‡æ¢åç”¨æˆ·ä¿¡æ¯æ­£ç¡®
- âœ… Session ID æ¯æ¬¡éƒ½ä¸åŒ
- âœ… æ²¡æœ‰ä»»ä½•é”™è¯¯æ—¥å¿—
- âœ… å“åº”é€Ÿåº¦æ­£å¸¸

---

## ğŸ“Š æœ€ç›´è§‚çš„éªŒè¯æ–¹å¼ï¼ˆæ¨èï¼ï¼‰

### ğŸ¯ å¹¶æ’å¯¹æ¯”æµ‹è¯•

**å¼€ä¸¤ä¸ªæµè§ˆå™¨çª—å£ï¼š**

1. **çª—å£ 1ï¼ˆChromeï¼‰ï¼šç™»å½•ä¸º Kimi**
   ```
   é—®é¢˜ï¼šè§£é‡Šé‡å­çº ç¼ 
   ```

2. **çª—å£ 2ï¼ˆSafari/Firefoxï¼‰ï¼šç™»å½•ä¸º Alex**
   ```
   é—®é¢˜ï¼šä»€ä¹ˆæ˜¯å…‰åˆä½œç”¨
   ```

3. **åŒæ—¶è§‚å¯Ÿä¸¤ä¸ªçª—å£**
   - âœ… ä¸¤ä¸ªç”¨æˆ·çš„å“åº”å®Œå…¨ç‹¬ç«‹
   - âœ… æ²¡æœ‰äº’ç›¸å¹²æ‰°
   - âœ… Session ID å®Œå…¨ä¸åŒ

4. **æŸ¥çœ‹åå°æ—¥å¿—**
   ```bash
   # åœ¨ backend ç›®å½•
   tail -f logs/app.log | grep -E "user_kimi|user_alex"
   ```
   
   **æœŸæœ›çœ‹åˆ°ï¼š**
   ```
   [user_kimi] Session: user_kimi_session_xxx
   [user_alex] Session: user_alex_session_yyy
   [user_kimi] Saved artifact: é‡å­çº ç¼ 
   [user_alex] Saved artifact: å…‰åˆä½œç”¨
   ```

---

## ğŸ¯ æ ¸å¿ƒéªŒè¯æ¸…å•

åœ¨æµ‹è¯•å®Œæˆåï¼Œç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ç›®éƒ½é€šè¿‡ï¼š

### å‰ç«¯ UI
- [ ] ç”¨æˆ·åˆ‡æ¢æŒ‰é’®å·¥ä½œæ­£å¸¸
- [ ] ç”¨æˆ·å¤´åƒå’Œåå­—æ­£ç¡®æ˜¾ç¤º
- [ ] Session ID åœ¨åˆ‡æ¢åä¼šå˜åŒ–
- [ ] åˆ‡æ¢ç”¨æˆ·åèŠå¤©å†å²æ¸…ç©º

### æ•°æ®éš”ç¦»
- [ ] æ¯ä¸ªç”¨æˆ·çš„ memory_storage æ–‡ä»¶ç‹¬ç«‹
- [ ] ä¸åŒç”¨æˆ·çš„ artifacts å†…å®¹å®Œå…¨ä¸åŒ
- [ ] Session ID æ ¼å¼æ­£ç¡®ï¼š`{user_id}_session_{timestamp}`

### S3 å­˜å‚¨ï¼ˆå¦‚æœå¯ç”¨ï¼‰
- [ ] S3 è·¯å¾„ç»“æ„æ­£ç¡®ï¼š`artifacts/{user_id}/`
- [ ] ä¸åŒç”¨æˆ·çš„æ–‡ä»¶å­˜å‚¨åœ¨ä¸åŒçš„è·¯å¾„ä¸‹
- [ ] å¯ä»¥æ­£ç¡®è¯»å–å’Œå†™å…¥

### æ€§èƒ½
- [ ] ç”¨æˆ·åˆ‡æ¢å“åº”æ—¶é—´ < 500ms
- [ ] æ²¡æœ‰å†…å­˜æ³„æ¼
- [ ] å¹¶å‘è¯·æ±‚æ­£å¸¸å¤„ç†

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1ï¼šåˆ‡æ¢ç”¨æˆ·åçœ‹åˆ°æ—§æ•°æ®
**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥æµè§ˆå™¨ localStorageï¼š`localStorage.getItem('current_user')`
- æ¸…é™¤ç¼“å­˜ï¼š`localStorage.clear()` + åˆ·æ–°é¡µé¢

### é—®é¢˜ 2ï¼šS3 è·¯å¾„æ²¡æœ‰æ•°æ®
**åŸå› ï¼š** å°æ–‡ä»¶ï¼ˆ< 1KBï¼‰ä¼šå­˜å‚¨ä¸º inlineï¼Œä¸ä¼šä¸Šä¼ åˆ° S3
**éªŒè¯ï¼š** ç”Ÿæˆæ›´å¤§çš„å†…å®¹ï¼ˆå¦‚ Plan Skill ç”Ÿæˆå¤šä¸ªæ­¥éª¤ï¼‰

### é—®é¢˜ 3ï¼šSession ID ä¸å˜
**æ£€æŸ¥ï¼š**
- åç«¯æ—¥å¿—æ˜¯å¦æ˜¾ç¤ºæ–°çš„ login è¯·æ±‚
- å‰ç«¯æ˜¯å¦æ­£ç¡®è°ƒç”¨äº† `/auth/login` API

---

## ğŸ“ˆ è¿›é˜¶æµ‹è¯•

### A/B å¯¹æ¯”æµ‹è¯•

**Kimiï¼ˆå­¦ä¹ é£æ ¼ï¼šå¿«é€Ÿæ¦‚è§ˆï¼‰**
```
ç»™æˆ‘5å¼ é—ªå¡å…³äºé‡å­ç‰©ç†
```

**Alexï¼ˆå­¦ä¹ é£æ ¼ï¼šæ·±åº¦ç†è§£ï¼‰**
```
è§£é‡Šé‡å­ç‰©ç†å¹¶ç”Ÿæˆ3é“é¢˜ç›®
```

**å¯¹æ¯”ç‚¹ï¼š**
- ä¸¤ä¸ªç”¨æˆ·è¯·æ±‚ç›¸ä¼¼ä¸»é¢˜ä½†ä¸åŒç±»å‹
- éªŒè¯ç³»ç»Ÿä¸ºä¸åŒç”¨æˆ·ç”Ÿæˆä¸åŒæ ¼å¼çš„å†…å®¹
- ç¡®è®¤æ•°æ®ä¸ä¼šæ··æ·†

---

## âœ… æµ‹è¯•å®Œæˆå

**æ¸…ç†æµ‹è¯•æ•°æ®ï¼š**
```bash
cd backend
python3 scripts/cleanup_test_data.py
```

**æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Šï¼š**
```bash
python3 scripts/generate_test_report.py
```

---

## ğŸ‰ æˆåŠŸæ ‡å¿—

å¦‚æœæ‚¨çœ‹åˆ°ä»¥ä¸‹æ‰€æœ‰ç°è±¡ï¼Œè¯´æ˜å¤šç”¨æˆ·ç³»ç»Ÿå·¥ä½œå®Œç¾ï¼š

1. âœ… ç”¨æˆ·åˆ‡æ¢æµç•…ï¼ŒUI ç«‹å³æ›´æ–°
2. âœ… æ¯ä¸ªç”¨æˆ·çš„æ•°æ®å®Œå…¨ç‹¬ç«‹
3. âœ… Session ç®¡ç†æ­£ç¡®
4. âœ… S3 å­˜å‚¨è·¯å¾„åˆ†ç¦»
5. âœ… æ²¡æœ‰ä»»ä½•é”™è¯¯æ—¥å¿—
6. âœ… å¹¶å‘æµ‹è¯•é€šè¿‡

**æ­å–œï¼ğŸŠ æ‚¨çš„å¤šç”¨æˆ·å­¦ä¹ ç³»ç»Ÿå·²ç»å‡†å¤‡å°±ç»ªï¼**

